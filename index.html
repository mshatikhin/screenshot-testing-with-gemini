<!DOCTYPE html>
<html lang="ru-RU">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
</head>
<body class="shower list">

<header class="caption">
    <h1>Скриншотное тестирование с использованием gemini</h1>
    <p>СКБ Контур 2017</p>
</header>

<section class="slide" id="cover">
    <h2>Скриншотное тестирование с использованием gemini</h2>
    <figure>
        <img class="cover" src="pictures/cover.jpg" alt="Cover">
    </figure>
    <style>
        #cover h2 {
            margin: 250px 0 0;
            color: #FFF;
            text-align: center;
            font-size: 70px;
        }
    </style>
</section>

<section class="slide">
    <h2>Обо мне</h2>
    <ul>
        <li>Фронтендер в проекте Контур.Гособлако</li>
        <li>Использую стек React - Redux - ...</li>
        <li>Пишу на typescript</li>
        <li>Пишу тесты на фронтенд</li>
    </ul>
</section>

<section class="slide">
    <figure>
        <img class="cover" src="pictures/gos.png">
    </figure>
</section>

<section class="slide">
    <h2>Виды тестирования</h2>
    <ul>
        <li>e2e <code>(nigthwatch, ...)</code></li>
        <li>css/style <code>(gemini, ...)</code></li>
        <li>integration <code>(jest, enzyme)</code></li>
        <li>unit <code>(jest)</code></li>
        <li>structure <code>(jest snapshot)</code></li>
        <li>type checking <code>(typescript, flow)</code></li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout">css/style testing</h2>
</section>

<section class="slide">
    <h2 class="shout">Острота зрения</h2>
</section>

<section class="slide">
    <img src="pictures/tab2.jpg" class="cover"/>
</section>

<section class="slide">
    <img src="pictures/tab_diff_2.jpg" class="cover"/>
</section>

<section class="slide">
    <h2>Потребности</h2>
    <ul>
        <li>Тратить меньше времени на ручное тестирование</li>
        <li>Избавиться от боли после рефакторинга</li>
        <li>Повысить надежность приложения</li>
        <li>После обновления сторонних UI библиотек быть спокойнее</li>
    </ul>
</section>

<section class="slide">
    <h2>Тестирование вручную</h2>
    <ul>
        <li>Много рутинной работы</li>
        <li>Человеческий фактор</li>
    </ul>
</section>


<section class="slide">
    <h2 class="shout">Мучение</h2>
</section>

<section class="slide">
    <img src="pictures/eyes.gif" width="500" class="cover"/>
</section>

<section class="slide">
    <h2>Как хочется</h2>
    <ul>
        <li>Делать скриншоты компонентов в различных состояних</li>
        <li>Сравнивать скриншоты между собой автоматически</li>
        <li>Хранить эталоны в репозитории</li>
        <li>Тестировать верстку в разных браузерах</li>
    </ul>
</section>

<section class="slide">
    <h2>Инструменты</h2>
    <ul>
        <li><a href="https://github.com/bslatkin/dpxdt">DPXDT</a></li>
        <li>webdiff</li>
        <li><a href="https://github.com/facebook/huxley">Huxley</a></li>
        <li><a href="https://github.com/Huddle/PhantomCSS">casper.js + phantom.css</a></li>
        <li><a href="https://github.com/gemini-testing/gemini">gemini</a></li>
    </ul>
</section>

<section class="slide">
    <h2>DPXDT, webdiff, Huxley</h2>
    <ul>
        <li>Тестирует страницы целиком по url</li>
        <li>Не тестирует взаимодействие с пользователем</li>
        <li>Небольшие изменения верстки ломают дифф</li>
        <li>Не предназначен для динамичных SPA</li>
    </ul>
</section>

<section class="slide">
    <h2>casper.js + phantom.css</h2>
    <ul>
        <li>Только в phantom.js (один браузер)</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout">gemini</h2>
</section>

<section class="slide">
    <h2>Возможности</h2>
    <ul>
        <li>API для взаимодействовия с UI</li>
        <li>Тестирование по блокам</li>
        <li>Игнорирование лишнего</li>
        <li>Удобный HTML отчёт</li>
        <li>Есть GUI</li>
        <li>Запуск тестов в разных браузерах</li>
        <li>Есть plugin для React (gemini-react)</li>
    </ul>
</section>

<section class="slide">
    <h2>Ограничения</h2>
    <ul>
        <li>Работает через selenium</li>
        <li>Нужно хранить скриншоты в репозитории</li>
        <li>Нужно писать тесты на javascript</li>
    </ul>
</section>

<section class="slide">
    <h2>Схема работы</h2>
</section>

<section class="slide">
    <h2>Примеры</h2>
    <p>Реальные примеры</p>
    <p>.....</p>
</section>

<section class="slide">
    <h2 class="shout">Пример теста</h2>
</section>

<section class="slide">
    <h2>Название теста</h2>
    <pre>
        <code>gemini.suite(<mark>'test'</mark>, (suite) => {</code>
        <code>  suite.setUrl(<mark>'/'</mark>)</code>
        <code>    .setCaptureElements(<mark>'.test__root'</mark>)</code>
        <code>    .capture(<mark>'plain'</mark>);</code>
        <code>});</code>
    </pre>
</section>

<section class="slide">
    <h2>Профит использования</h2>
    <ul>
        <li>У вас больше времени на разработку</li>
        <li>Меньше боли при рефакторинге</li>
        <li>При обновлениях верстки оперативно видите что изменилось</li>
        <li>Ваши компоненты становятся лаконичнее</li>
        <li>Повышается надежность и уверенность</li>
    </ul>
</section>

<section class="slide">
    <h2>Призыв к действию</h2>
    <ul>
        <li>Пишите тесты до релиза</li>
        <li>Используйте песочницу компонентов</li>
        <li>Берегите глаза</li>
    </ul>
</section>

<section class="slide">
    <h2>Ссылки</h2>
    <ul>
        <li><a href="https://github.com/gemini-testing/gemini">gemini-testing/gemini</a></li>
        <li><a href="https://gemini-testing.github.io/">gemini-testing.github.io</a></li>
        <li><a href="https://getstorybook.io/docs/react-storybook/testing/css-style-testing">react-storybook/testing/css-style-testing</a>
        </li>
        <li><a href="https://events.yandex.ru/lib/talks/4262/">Gemini: различные способы использования</a></li>
        <li><a href="https://gist.github.com/cvrebert/adf91e429906a4d746cd">Другие инструменты CSS Regression
            Testing</a></li>
        <li><a href="https://github.com/mshatikhin/gemini-react-starter">github.com/mshatikhin/gemini-react-starter</a>
        </li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout">Спасибо</h2>
</section>

<section class="slide">
    <h2>Вопросы?</h2>
</section>

<!--
    To hide progress bar from entire presentation
    just remove “progress” element.
    -->
<div class="progress"></div>
<script src="shower/shower.min.js"></script>
<!-- Copyright © 2015 Yours Truly, Famous Inc. -->
<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>
